(this.$WP=this.$WP||[]).push(["80p4m1",(e,r)=>{var a,i,t,n,o,l,s,d,c,u,p,h,v,m,g,w,N,T,f,_,C,y,E,I,P,D,x,V,S,b,k,A,O,W,M,R,L,H,U,z,B,F,$,Y,q,j,Q={wrapper:"f k",date:"ZVoFr n",providerAttributionUrl:"mEkZD Cf"},K=(e,r)=>{var a=k();switch(e){case"OWNER":return null;case"STAFF":return`${a}/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg`;default:return r}},G=({supplierCategory:e,provider:r,userPhotoUrl:n,userProfileUrl:o,userName:l,uploadedDate:s,hometown:d,contributionCount:c,type:u,attributionUrl:p,businessContact:h,controls:v})=>{var m=f(),N="TRAVELER"===e,T=s?`${m.formatDate("date_medium_month_year",new Date(s))}`:"",{localize:y}=_(),E=K(e,n),I=null===E&&"OWNER"===e,P=l,D=!1;if("OWNER"===e){D=!0;var x=r?.name;if(x&&w.has(x)){if("BOOKINGCOM"===x)return a("div",{className:Q.wrapper,children:[a("div",{children:[i("a",{href:p,target:"_blank",children:i("div",{className:Q.providerAttributionUrl,children:a(g,{elementType:"div",variant:"title-05",color:"onDarkText",children:[y("Photoviewer_dmoPhotoCaption_v2",{0:String(w.get(x)),1:""}),i(A,{})]})})}),i("span",{className:Q.date,children:T})]}),v]});P=y.string("Photoviewer_mgmtFilter")}else P=y.string("Photoviewer_mgmtFilter")}else if("STAFF"===e)P=y.string("phoenix_mediaviewer_professional_attribution");else if(N&&!P)return null;"pano"===u&&(P=y.string("phoenix_mediaviewer_professional_attribution"),D=!1);var V=`${P||""}${T&&` • ${T}`}`,S=D&&h&&h(),b=N&&a(g,{elementType:"div",variant:"supporting-01",color:"onDarkText",marginRight:"spacing-03",children:[!!d&&i("span",{children:d}),!!d&&!!c&&i("span",{children:"\xa0 • \xa0"}),!!c&&i(C,{id:"hotels_n_contributions_plural",args:{0:"",1:c}})]}),k=a(t,{children:[S," ",b," "]});return a("div",{className:Q.wrapper,children:[i(O,{variant:"two-line",theme:"on-dark",profileInfo:[{displayName:V,avatarSource:E||void 0,profileHref:o||void 0}],suppressAvatar:I,additionalInfo1:k}),v]})},X={wrapper:"qnGvM",slideoutUp:"kWQgV",rating:"prLLg",partialReview:"uAQKD W",caption:"Lblgn",source:"jTwNy",reviewParentContainer:"WBTsa _Q s _U",noPointerEvents:"KKgmN",reviewSlideoutContainer:"nvSUG _Q s",topArea:"wRGmw",noDrag:"UGmCR",reviewWroteDate:"nlMdx",contributionCount:"IGLPk",closeButton:"FjyXT _Q _U",reviewTextArea:"HacNA",reviewTextAreaRating:"LyNMu",reviewText:"JOgTx _c",reviewTitle:"kZMaN b",dragIndicator:"NDnLU _Q Md"},Z={UP:"up",DOWN:"down",HIDDEN:"hidden"},J="0.1s",ee={getTranslation:(e,r,a)=>{switch(a){case Z.HIDDEN:return`translateY(${e+r}px)`;case Z.DOWN:return`translateY(${e/2+r}px)`;case Z.UP:return`translateY(${r}px)`;default:return"translateY(100%)"}},getOpacity:e=>e===Z.HIDDEN?"0":"1",getTextAreaHeight:(e,r,a)=>a===Z.DOWN&&r>=0?`${e/2-104}px`:`${e-104}px`},er=({caption:e,isPhotoOnly:r,review:d,userPhotoUrl:c,userProfileUrl:u,userName:p,uploadedDate:h,contributionCount:m,showOverlay:g,provider:w,parentHeight:T,trackingCallback:y})=>{var E=I(),[D,x]=n(!1),[V,S]=n(Z.HIDDEN),{localize:b}=_(),k=f(),A=w?.name,H=A&&N.get(A),U=!r&&!!d&&!!d?.title,z=U&&!!d?.text,B=o(null);l(()=>{z||S(Z.HIDDEN)},[d,z]),l(()=>S(Z.HIDDEN),[g]);var F=s(()=>{x(!0),S(Z.DOWN),y?.("MediaViewer_ReviewClick"),E(P.DETAIL_VIEW_REVIEW_CLICK)},[E,y]),$=s(()=>{y?.("MediaViewer_ReviewCloseClick"),S(Z.HIDDEN),B.current&&(B.current.scrollTop=0),x(!1)},[y]),[Y,q]=n(!1),j=o(null),[Q,K]=n(0),[G,er]=n(0),ea=()=>K(0),ei=(e,r)=>{r&&(r.style.transitionDuration=J,er(e))},et=R(),en=L(),eo=et.width>=768&&!en,el=d?.rating;if(e&&!U)return a("div",{className:X.caption,children:[i("div",{children:e}),H?i("span",{className:X.source,children:b("mediaviewer_mediasource",{sourceName:H})}):null]});var es=j.current?ee.getTranslation(j.current.clientHeight,G,V):"translateY(100%)",ed=j.current?ee.getTextAreaHeight(j.current.clientHeight,G,V):"auto",ec=ee.getOpacity(V);return a("div",{className:v(X.wrapper,D?X.slideoutUp:null),onClick:F,children:[!!el&&i("div",{className:X.rating,children:i(W,{rating:el})}),z?a(t,{children:[i("div",{className:X.partialReview,children:d?.text}),i("div",{className:v(X.reviewParentContainer,D?null:X.noPointerEvents),onClick:e=>{e.stopPropagation(),$()},onTouchStart:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),onTouchEnd:$,style:{height:T},children:a("div",{className:v(X.reviewSlideoutContainer),ref:e=>{j.current=e},onTouchStart:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),style:{transform:es,opacity:ec},children:[a("div",{className:v(X.topArea,eo?X.noDrag:null),onTouchStart:e=>{e.stopPropagation(),1===e.touches.length&&(q(!0),K(e.touches[0].clientY))},onTouchMove:e=>{if(Y&&j.current){var r=e.touches[0].clientY-Q;(r>=0||!eo)&&(j.current.style.transitionDuration=J,ei(r,j.current))}},onTouchEnd:e=>{e.stopPropagation(),q(!1),j.current&&(j.current.style.transitionDuration="0.3s"),G>100?$():G<0&&!eo&&(S(Z.UP),E(P.DETAIL_VIEW_REVIEW_TRAY_EXPANSION)),ea(),er(0)},children:[!eo&&i("div",{className:X.dragIndicator}),i(O,{variant:"three-line",profileInfo:[{displayName:p||b.string("mediaviewer_a_tripadvisor_member_capitalized"),avatarSource:c||void 0,profileHref:u||void 0}],additionalInfo1:i("span",{className:X.reviewWroteDate,children:`${b.string("mediaviewer_wrote_a_review",{date:h?`${k.formatDate("date_medium_month_year",new Date(h))}`:""})}`}),additionalInfo2:i("span",{className:X.contributionCount,children:!!m&&i(C,{id:"hotels_n_contributions_plural",args:{0:"",1:m}})})}),i("div",{className:X.closeButton,onClick:e=>{e&&e.stopPropagation(),$()},children:i(M,{})})]}),a("div",{className:X.reviewTextArea,ref:e=>{B.current=e},onTouchEnd:e=>{e&&e.stopPropagation(),E(P.DETAIL_VIEW_REVIEW_SCROLL)},style:{height:ed},children:[!!el&&i("div",{className:X.reviewTextAreaRating,children:i(W,{rating:el})}),a("div",{className:X.reviewText,children:[i("span",{className:X.reviewTitle,children:d?.title}),i("p",{children:d?.text})]})]})]})})]}):i("div",{className:X.partialReview,children:d?.title})]})},ea={wrapper:"oOTRI",buttonContainer:"Ntyrm f u I",helpfulButton:"wNwSc _S H2 Vm b",reportButton:"WSMnQ _S"},ei=({helpfulCount:e,mediaId:r,locationId:t,mediaWithHelpfulVote:n,providerName:o,mediaType:l,displayReportBtn:d=!0,displayHelpfulBtn:c=!0,trackingCallback:u})=>{var p=I(),h=z(),v=s(()=>{var e=`/VideoController?a=vt&ff=${r}&vote=5&detail=${t}`;fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-By":encodeURIComponent(h)},credentials:"same-origin"}),n&&n.add(r),u?.("MediaViewer_HelpfulReviewVoteClick"),p(P.HELPFUL_VOTE_CLICK,{providerName:o})},[h,t,r,n,o,p,u]),m=!1;"p"===l?m="Photo":"v"===l&&(m="Video");var g=s(()=>{u?.("MediaViewer_ReportReviewClick"),p(P.REPORT_PANEL_SHOWN)},[p,u]);return i("div",{className:ea.wrapper,children:a("div",{className:ea.buttonContainer,children:[c?i("div",{className:ea.helpfulButton,onClick:v,children:i(H,{count:e,alreadyVoted:n&&n.has(r),onClick:v,showHelpfulText:!1})}):null,d&&m?i("div",{className:ea.reportButton,children:i(U,{contentId:r,contentType:m,onClick:g,hideTitle:!0})}):null,i(B,{mediaId:r})]})})},et={mainContainer:"jnVMO",imageParentContainer:"vnQks",swipeContainer:"afDxN",visibilityContainer:"KzSsT",imageViewer:"WjTcr",imageLayoutContainer:"Gwltj F0",imageContainer:"PvuVr u F0",panoContainer:"auTSm u F0 _S",photo360Container:"EQQVl u F0 _S",detailContainer:"yylSn Cf s V",hidden:"Y S",upperControlsWrapper:"nlMDx Cf",upperControls:"pzMWZ QA u Q3",goBackNode:"qecZS",reviewPlaceholder:"plKkR",panoViewerOverlay:"ENXiD",panoViewerTopArea:"HKjKC",backFromPanoViewer:"mprJp Cf _S"},en=({media:e,onSwipeLeft:r,onSwipeRight:t,onFullscreenMedia:d,totalMediaInfo:p,goBackNode:w,locationId:N,mediaWithHelpfulVote:f,exit:C,shareUrl:k,innateTranslations:A=!0,businessContact:O,isActiveViewer:W=!0,trackingCallback:M})=>{var R,{family:L}=x().browser,{family:H}=x().os,U=I(),z=e=>{M&&M(e)},B=o(null),[Q,K]=n(!0),[G,X]=n(!1),[Z,J]=n(!1),[ee,er]=n(!1),[ea,ei]=n(!1),[en,eo]=n("undefined"!=typeof window?window.innerHeight:0),{localize:el}=_();l(()=>{var e=()=>{B.current&&eo(B.current.clientHeight)};return document.addEventListener("transitionend",e),()=>{document.removeEventListener("transitionend",e)}},[]);var es=e.mediaId&&e.mediaId<0,ed="pano"===e.type,ec="p360"===e.type,eu="v"===e.type,ep=o(()=>{}),eh=s(e=>{d&&d(e)},[d]),ev=s(()=>{eh(!1),U(P.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:!1}),G&&X(!1)},[eh,G,U]),em=s(()=>{eh(!1),U(P.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!1}),Z&&J(!1)},[eh,Z,U]),eg=m(e=>{ei(e)},-20);l(()=>{!ea&&ed&&G?ev():!ea&&ec&&Z?em():!ea&&eu&&ep.current()},[ea,ed,ec,eu,G,ev,Z,em]);var ew=e.provider?.name;l(()=>{U(P.DETAIL_VIEW,{compoundMediaId:{id:e.mediaId,type:e.type},providerName:ew})},[e.mediaId,ew,e.type,U]);var eN=o(!1),eT=s(()=>{eN.current=!0},[]),ef=s(()=>{eN.current=!1},[]),e_=c(()=>e=>{e.preventDefault(),eN.current&&(eN.current=!1,K(e=>!e))},[]);l(()=>{U(P.DETAIL_VIEW_IMAGE_TAP_HIDE,{isMWRedesign:!0,detailsWereShown:Q})},[Q,U]);var eC=o(!1),ey=s(()=>{eC.current=!0},[]),eE=s(()=>{eC.current=!1},[]),eI=c(()=>e=>{e&&e.preventDefault(),"IE"!==L&&eC.current&&(eC.current=!1,X(e=>(eh(!e),!e)))},[L,eh]);l(()=>{U(P.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:G})},[G,U]);var eP=o(!1),eD=s(()=>{eP.current=!0},[]),ex=s(()=>{eP.current=!1},[]),eV=c(()=>e=>{e&&e.preventDefault(),eP.current&&(eP.current=!1,J(e=>(U(P.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!e}),eh(!e),!e)))},[eh,U]),eS=e.supplierCategory?e.supplierCategory:"OWNER",eb=e.userProfile?.avatar?.photoSizes?.[1]?.url;!eb&&e.userProfile?.avatar?.photoSizes?.[0]?.url&&(eb=e.userProfile?.avatar?.photoSizes?.[0]?.url);var ek=e.uploadDate,eA=e.userProfile?.hometown?.location?.additionalNames.long,eO=e.userProfile?.contributionCounts?.sumAllUgc,eW=a("div",{className:v(et.detailContainer,Q?null:et.hidden),children:[i(F,{supplierCategory:eS,provider:e.provider,userPhotoUrl:eb,userProfileUrl:e.userProfile?.route?.url,userName:e.userProfile?.displayName,uploadedDate:ek,hometown:eA,contributionCount:eO,type:e.type,attributionUrl:e.providerAttributionUrl,businessContact:O,controls:W&&i(Y,{helpfulCount:e.thumbsUpVotes||0,locationId:N,mediaId:e.mediaId,mediaWithHelpfulVote:f,providerName:e.provider?.name,mediaType:e.type,displayReportBtn:!es&&!ed&&!ec&&!(ew&&T.has(ew)),displayHelpfulBtn:!(ed||ec||es)&&void 0!==e.thumbsUpVotes&&null!==e.thumbsUpVotes,trackingCallback:M})}),e.review||e.caption?i($,{caption:e.caption,isPhotoOnly:e.review?.isPhotoOnly,review:e.review,userPhotoUrl:eb,userProfileUrl:e.userProfile?.route?.url,userName:e.userProfile?.displayName,uploadedDate:ek,contributionCount:eO,showOverlay:Q,provider:e.provider,parentHeight:en,trackingCallback:M}):i("div",{className:et.reviewPlaceholder})]}),eM=()=>{var r,t;return e.review?.id?(t="review",r=e.review.id):"p"===e.type?(t="photo",r=e.mediaId):"v"===e.type&&(t="video",r=e.mediaId),i("div",{className:v(et.upperControlsWrapper,{[et.hidden]:!Q}),children:a("span",{className:et.upperControls,children:[i(g,{variant:"supporting-01",elementType:"span",color:"onDarkText",children:el("hotels_mobile_xofy",{0:p.selectedIndex+1,1:p.totalCount})}),k&&i(V,{url:k,alignEdge:"right",itemId:`${N}`,itemType:"media",shiftY:2,hideText:!0,disableMcidTracking:!0,onClick:()=>z("MediaViewer_ShareClick")}),!es&&e.provider?.name!=="BOOKINGCOM"&&null!=t&&null!=r&&i(S,{type:t,id:r,size:"small",variant:"clear-on-dark",position:"static",onClick:()=>z("MediaViewer_SaveClick")})]})})},eR=w&&i("div",{className:v(et.goBackNode,Q?null:et.hidden),children:w}),[eL,eH]=n(!1),eU={x:0,y:0},[ez,eB]=n(eU),[eF,e$]=n(eU),eY=()=>eB(eU),[eq,ej]=n(null),eQ=e=>{1===e.touches.length&&(eH(!0),eB({x:e.touches[0].clientX,y:e.touches[0].clientY}))},eK=(e,r,a,i)=>{if(i){if("x"===e){var t=0;r>0&&p.selectedIndex>0?t=Math.min(r,60):r<=0&&p.selectedIndex+1<p.totalCount&&(t=Math.max(r,-60)),i.style.transform=`translateX(${t}px`}else i.style.transform=`translateY(${a>0?Math.min(a,60):Math.max(a,-60)}px`}},eG=e=>{if(ef(),eE(),ex(),eL){var r=e.touches[0].clientX-ez.x,a=e.touches[0].clientY-ez.y;eq||(Math.abs(r)+5>=Math.abs(a)?ej("x"):ej("y")),A&&eK(eq,r,a,B.current),"x"===eq?e$({x:r,y:0}):e$({x:0,y:a})}},eX=()=>{eH(!1),"x"===eq?(eF.x<-50&&r(),eF.x>50&&t()):"y"===eq&&Math.abs(eF.y)>80&&C&&C(),B.current&&(B.current.style.transform=""),eY(),ej(null)};return R=ed?(({mediaId:r,cdnPath:t})=>G&&t?i(q,{uniqueId:"MediaViewer_MWRedesign",oysterCdnPath:t,format:"OYSTER_LEGACY",mediaId:r,className:et.panoViewerOverlay,children:i("div",{className:et.panoViewerTopArea,children:i("span",{className:et.backFromPanoViewer,onClick:()=>{eh(!1),U(P.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:!1}),X(!1)},children:i(y,{})})})}):a("div",{className:et.mainContainer,children:[i("div",{className:et.imageParentContainer,onTouchStart:eT,onTouchEnd:e_,onMouseDown:eT,onMouseUp:e_,children:i("div",{className:et.swipeContainer,onTouchStart:eQ,onTouchEnd:eX,onTouchMove:eG,children:i("div",{className:et.imageViewer,ref:e=>{B.current=e},children:a("div",{className:et.imageLayoutContainer,children:[D(e),i("div",{className:et.panoContainer,onTouchStart:()=>{ey(),ef()},onTouchEnd:e=>{eI(e),eX()},onClick:e=>{eC.current=!0,eI(e),eX()},children:i(h,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1},e.mediaId)})]})})})}),eM(),eW,eR]}))(e):ec?(({mediaId:r,photoSizes:t,photo360Format:n})=>Z&&r&&t&&t.length&&n&&"SPHERE"===n?i(q,{uniqueId:"MediaViewer_MWRedesign",photo360Sizes:t,format:"PHOTO_360_SPHERE",mediaId:r,className:et.panoViewerOverlay,children:i("div",{className:et.panoViewerTopArea,children:i("span",{className:et.backFromPanoViewer,onClick:()=>{eh(!1),U(P.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!1}),J(!1)},children:i(E,{})})})}):a("div",{className:et.mainContainer,children:[i("div",{className:et.imageParentContainer,onTouchStart:eT,onTouchEnd:e_,children:i("div",{className:et.swipeContainer,onTouchStart:eQ,onTouchEnd:eX,onTouchMove:eG,children:i("div",{className:et.imageViewer,ref:e=>{B.current=e},children:a("div",{className:et.imageLayoutContainer,children:[D(e),i("div",{className:et.photo360Container,onTouchStart:()=>{eD(),ef()},onTouchEnd:e=>{eV(e),eX()},onClick:e=>{eP.current=!0,eV(e),eX()},children:i(h,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1},e.mediaId)})]})})})}),eM(),eW,eR]}))(e):eu?a("div",{className:et.mainContainer,children:[i("div",{className:et.imageParentContainer,children:i("div",{className:et.swipeContainer,onTouchStart:eQ,onTouchEnd:eX,onTouchMove:eG,children:i("div",{className:et.imageViewer,children:i(j,{selectedMedia:e,autoplay:!1,inactivityTimeout:0,userIsActive:ee,onPlay:()=>{er(!0),K(!1)},onPause:()=>{er(!1),K(!0)},onFullscreenChange:e=>eh(e),showControls:!Q,videoPauseSetCallback:e=>{ep.current=e},poster:"IOS"===H?e.photoSizes[0].url:""},e.mediaId)})})}),eM(),eW,eR]}):a("div",{className:et.mainContainer,children:[i("div",{className:et.imageParentContainer,onTouchStart:eT,onTouchEnd:e_,onMouseDown:eT,onMouseUp:e_,children:i("div",{className:et.swipeContainer,onTouchStart:eQ,onTouchEnd:eX,onTouchMove:eG,children:i("div",{className:et.imageViewer,ref:e=>{B.current=e},children:i("div",{className:et.imageLayoutContainer,children:i("div",{className:et.imageContainer,children:i(h,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1},e.mediaId)})})})})}),eM(),eW,eR]}),i("div",{className:et.visibilityContainer,ref:e=>{eg.current=e},children:i(b,{children:i(u,{children:R})})})};return[()=>{F=G,$=er,Y=ei,q=p(()=>r("1p8dyy")),j=p(()=>r("1323oo")),e("MWDetailViewer",d(en))},[e=>(a=e.jsxs,i=e.jsx,t=e.Fragment),e=>(n=e.useState,o=e.useRef,l=e.useEffect,s=e.useCallback,d=e.memo,c=e.useMemo,u=e.Suspense,p=e.lazy),e=>h=e.default,e=>v=e.default,e=>m=e.useVisibleEffect,e=>g=e.default,e=>(w=e.externalProviders,N=e.explicitlyCreditedProviders,T=e.noReportBtnProviders),e=>(f=e.useIntlFormatter,_=e.useLocalize,C=e.UnsafeLocalize),e=>y=e.default,e=>E=e.default,e=>(I=e.useMVTracking,P=e.trackedPageActions),e=>D=e.getOverlay,e=>x=e.useUserAgent,e=>V=e.default,e=>S=e.default,e=>b=e.ErrorBoundary,e=>k=e.useCdnPrefix,e=>A=e.default,e=>O=e.default,e=>W=e.BubbleRating,e=>M=e.default,e=>(R=e.useViewport,L=e.useTouchEnabled),e=>(H=e.HelpfulButton,U=e.ReportButton),e=>z=e.useSecurityToken,e=>B=e.default]]},["121h32","1o4yt4","34bu7w","fkji80","13btuy","1essqv","13w1vr","17thqz","1i0z8n","17nq86","1eucgl","1028xs","1nnprh","b9nflw","1dpzon","183pm0","1s6q22","1evvug","1dpmjf","1bkeq2","1qkjm8","bnv2ns","de5kvz","ahlu9q","147l9q"]]);
