(this.$WP=this.$WP||[]).push(["nrft5x",(e,r)=>{var a,l,t,n,i,s,u,d,c,m,o,p,_,g,h,b,f,v,I,L,A,y,C,S,E,M,N,R,T,U,B=({selectedSourceId:e,sourceCounts:r,onSelect:a})=>{var{localize:l}=I(),n=s(()=>{if(!r)return[];var e=[];return Object.keys(r).includes(m.allIncludingRestricted)&&r[m.allIncludingRestricted]>0?e.push(m.allIncludingRestricted):Object.keys(r).includes(m.allUnrestricted)&&r[m.allUnrestricted]>0&&e.push(m.allUnrestricted),Object.keys(r).includes(m.traveler)&&r[m.traveler]>0&&e.push(m.traveler),Object.keys(r).includes(m.management)&&r[m.management]>0&&e.push(m.management),Object.keys(r).includes(m.staff)&&r[m.staff]>0&&e.push(m.staff),2===e.length&&e.shift(),e.filter(r=>!(2===e.length&&(r===m.allUnrestricted||r===m.allIncludingRestricted))).map(e=>({value:e,displayName:l.string("mv_photos_from_with_count",{source:o(p(e),l),count:r[e]})}))},[r,l]);if(0===n.length)return null;var i=n.find(r=>r.value===_[e])?_[e]:n[0].value;return t("div",{className:"d",children:t(c,{label:l.string("hr_mediaviewer_filter_by_label"),trigger:"chip",options:n,value:i,onChange:e=>a(g[e]),fullscreenMobile:!0})})},P={textWrapper:"f u",spacing:"PO"},k=({expanded:e,onClick:r})=>t(E,{onClick:r,children:t("span",{className:P.textWrapper,children:e?n(i,{children:[t("span",{className:P.spacing,children:t(v,{id:"mv_hide_filters"})}),t(S,{})]}):n(i,{children:[t("span",{className:P.spacing,children:t(v,{id:"mv_see_all_filters"})}),t(C,{})]})})}),w=({name:e,count:r,onSelect:a,selected:l})=>{var{localize:n}=I();return r?t(M,{selected:l,onClick:a,"aria-label":n.string("phoenix_accessibility_apply_filter_label",{0:e}),marginX:"spacing-01",marginBottom:"spacing-02",children:t(v,{id:"airm_geo_fffff486",args:{0:e,1:r}})}):null},O={albumPills:"C",expandButtonInlineWrapper:"PC"},j=({albums:e,selectedTypeId:r,selectedFilterId:a,selectedAlbumId:l,onSelect:i,onExpandChange:s})=>{var c,m=A(),o=e,p=u(!0),[_,v]=d(!1);c=r===g.ALL_INCLUDING_RESTRICTED||r===g.ALL_UNRESTRICTED?h(g.ALL_UNRESTRICTED):h(r);var I=b.has(l)||a===f.PANO_ALBUM;if(I){var C=e.find(e=>e.albumId===a);C&&(o=[C])}var S=e=>()=>i(e),E=o.filter(e=>e.mediaCounts[c]>0);L(()=>{v(!1),p.current=!0,s(p.current)},[l,s]),L(()=>{var e=1===E.length;I||e?(v(!0),p.current=!1):p.current=!0},[l,I,E]);var M=t(T,{expanded:_,onClick:()=>(_?m(y.HIDE_FILTERS_CLICK):m(y.SEE_ALL_FILTERS_CLICK),v(!_))});return _?n("div",{className:O.albumPills,children:[E.map(e=>{if(l!==f.VIDEO&&e.albumId===f.VIDEO||a!==f.PANO_ALBUM&&e.albumId===f.PANO_ALBUM)return null;var r=e.albumId===a||a===f.TRAVELER_ALBUM&&e.albumId===f.ALL_ALBUMS;return t(U,{name:e.name,count:e.mediaCounts[c],onSelect:S(e.albumId),selected:r},e.albumId)}),p.current&&t("div",{children:M})]}):n("span",{children:[E.filter(e=>e.albumId===a||a===f.TRAVELER_ALBUM&&e.albumId===f.ALL_ALBUMS).map(e=>t("span",{className:O.albumPills,children:t(U,{name:e.name,count:e.mediaCounts[c],onSelect:S(e.albumId),selected:!0},e.albumId)},`span-${e.albumId}`)),p.current&&t("span",{className:O.expandButtonInlineWrapper,children:M})]})},D=({selectedSort:e,onSelect:r})=>{var{localize:a}=I(),l=s(()=>[{value:N.featured,displayName:a.string("hr_mediaviewer_filter_by_featured")},{value:N.recency,displayName:a.string("hr_mediaviewer_filter_by_recency")}],[a]);return t(c,{label:a.string("hr_mediaviewer_sort_by_label"),options:l,value:e,onChange:r,menuVariant:"trailing-top-caret",trigger:"chip",fullscreenMobile:!0})},x=(e,r,t,n,i,s)=>{var[u]=a({query:l,variables:{locationId:e,albumId:r,client:t,filter:n,configuration:i},pause:s}),{data:d}=u;return d};return[()=>{R=B,T=k,U=w,e({AlbumPills:j,SortDropdown:D,SourceFilterDropdown:R,useMASFilters:x})},[e=>a=e.useQuery,e=>l=e.quickAlbumsQuery,e=>(t=e.jsx,n=e.jsxs,i=e.Fragment),e=>(s=e.useMemo,u=e.useRef,d=e.useState),e=>c=e.DropdownMenu,e=>(m=e.mediaGroups,o=e.getTitleForMediaGroup,p=e.getMediaGroupForString,_=e.idToMediaGroup,g=e.mediaGroupIds,h=e.getMediaGroupStringForId,b=e.categoryIdsThatAreAlbumIdsSet,f=e.AlbumTypes),e=>(v=e.default,I=e.useLocalize),e=>L=e.useClientSideLayoutEffect,e=>(A=e.useMVTracking,y=e.trackedPageActions),e=>C=e.default,e=>S=e.default,e=>E=e.BorderlessButton,e=>M=e.ChipButton,e=>N=e.mediaSorts]]},["1mqwhq","cboiod","121h32","1o4yt4","1ntn26","13w1vr","17thqz","1mb2nz","1eucgl","1i0z8n","14ilds","jppfwt","1b1clj","j9pg61"]]);
