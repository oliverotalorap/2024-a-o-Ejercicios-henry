(this.$WP=this.$WP||[]).push(["cjerkd",(e,i)=>{var n,r,a,o,s,l,t,d,c,u,m,g,p,h,f,_,b,v,S,T,G,I,M,z,C,w,k,y,H,O,N,j,W,D,P,x,R,A,q,B,$,L,E,F,K,U={iconWrapper:"rjSeK d q",iconWrapperSmall:"ADmrQ d q",iconWrapperMedium:"jOFMI d q _T",connectImg:"VNkBD",connectImgSmall:"uUSkJ",connectImgMedium:"jaoBo _T",icon:"nIvCR d Cj",iconSmall:"gqKUw d Cj",iconMedium:"yNpzT d _T Cj"},Z=["id-ID","ja-JP","zh-TW","th-TH"],J=e=>{var i=H(),a=Z.includes(i),[o]=w(e);return n(W,{variant:"secondary",size:e.size,onClick:e.onClick,fullWidth:!0,...o,children:[r(y,{id:"memx_mw_gating_cta"})," ",n("div",{className:N({[U.iconWrapperSmall]:"small"===e.fontSize},{[U.iconWrapperMedium]:"medium"===e.fontSize},{[U.iconWrapper]:"large"===e.fontSize}),children:[r(C,{src:e.allBlack?"/img2/google/GoogleG/black.svg":"/img2/google/GoogleG/1color@3x.png",className:N({[U.connectImgSmall]:"small"===e.fontSize},{[U.connectImgMedium]:"medium"===e.fontSize},{[U.connectImg]:"large"===e.fontSize})}),a&&r(C,{src:"/img2/line/line_color_20.png",className:N({[U.connectImgSmall]:"small"===e.fontSize},{[U.connectImgMedium]:"medium"===e.fontSize},{[U.connectImg]:"large"===e.fontSize})}),r("div",{className:N({[U.iconSmall]:"small"===e.fontSize},{[U.iconMedium]:"medium"===e.fontSize},{[U.icon]:"large"===e.fontSize}),children:r(j,{})})]})]})},V=(e,i,n,r)=>`https://tripadvisor.onelink.me/dIWJ?af_dp=${encodeURIComponent(e)}&af_web_dp=${encodeURIComponent(e)}&af_sub1=${i}&af_sub2=true&af_sub3=${n}&pid=website${void 0===r?"":`&c=${r}`}`,Q=e=>{var i=P(),{onClick:o,mcid:s}=e,l=D(),t=x(),{path:d}=p(),[c]=w(e);return n(W,{variant:"secondary",size:"large",fullWidth:!0,onClick:a(()=>{i({module:"app_download",action:"app_download_click",context:l}),o&&o(l)},[o,i,l]),href:q(`https://${t}${d}`,s,l,"GatingExperiment"),...c,children:[r(y,{id:"open_in_the_app"})," "]})},X={logoset:"w _Z"},Y=e=>{var i,{theme:n}=e;switch(n){case"green":i="/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg";break;case"cream":i="/img2/brand_refresh/Tripadvisor_logoset_solid_cream.svg"}return r(C,{className:X.logoset,src:i,alt:""})},ee=({headline:e,subheadline:i,...a})=>n("div",{className:k(a),children:[r("div",{className:"sHvwv _T d",children:r($,{theme:"green"})}),r(z,{variant:"expressive-display-02",marginTop:"spacing-04",children:e}),r(z,{variant:"body-01",marginTop:"spacing-02",children:i})]}),ei=({onShow:e,onContinueWith:i,onOpenInApp:a,mcid:o})=>{var{localize:s}=O();return r(R,{children:n("div",{ref:I(e),children:[r(L,{headline:s.string("hard_gate_hybrid_header"),subheadline:s.string("hard_gate_subheader")}),r(A,{size:"large",onClick:i,fontSize:"medium",marginTop:"spacing-04"}),r(B,{mcid:o,onClick:a,marginTop:"spacing-03"})]})})},en=()=>{},er=({onShow:e,onDismiss:i,onAutoCancelled:a,onSuccessfulLogin:d,onGeneralSkipDismiss:c,onNotVisible:m,onOneTapHidden:h})=>{var{page:f}=p(),_=g(),{localize:b}=O(),v=I(e),[S,T]=o(null),[G,z]=o(!1),C=ea(S),w=s(null);return l(()=>G?(clearTimeout(w.current),()=>{}):(w.current=setTimeout(()=>{!C&&m&&(S?m("hidden"):m("not_mounted"))},3e3),()=>{clearTimeout(w.current)}),[m,S,C,G]),l(()=>{C&&!G?z(!0):!C&&G&&h&&h()},[C,G,z,h]),n(M,{children:[r(t,{children:r(F,{onDismiss:()=>{i&&i(),u(_)},triggerNext:en,onAutoCancelled:a||en,enhancedGoogleOneTapGate:!0,servletName:f,suppressContextualMessage:!0,onSuccessfulLogin:d,onGeneralSkipDismiss:c,onIFrameShown:T})}),r("div",{ref:v,children:r(L,{headline:b.string("hard_gate_onetap_header"),subheadline:b.string("hard_gate_subheader")})})]})},ea=e=>{var[i,n]=o(!1);return l(()=>{if(e instanceof HTMLElement){var i=new IntersectionObserver(([e])=>n(e.isIntersecting));return i.observe(e),()=>{i.disconnect()}}return n(!1),()=>{}},[e]),i},eo=({onLogin:e})=>{var{login:i}=c(),s=g(),{page:l}=p(),{geoId:t,locationId:d}=f(),u=_(),{impressionKey:M}=b(),z=v(),C=S(),w=T(15e3,"MembershipHardGateBounce15s"),k=T(3e4,"MembershipHardGateBounce30s"),[y,H]=o(!m(s)),[O,N]=o(!1),j=I(a(()=>{w(),k()},[w,k])),W=a(()=>{i({flowOrigin:"login",pid:40620,flow:"CORE_COMBINED",isFullWidthMobile:!0,forceLogin:!0,closeX:!1,extraQueryParams:{funnelKey:M,page:l,geo_id:t,detail_id:d,is_dated:u}}).then(e=>{e&&z("MembershipHardGateHybrid",{userId:e.userId,newMember:!!e.hasCreatedMember,source:G(e.loginProvider)},"SuccessLogin",e.userId||void 0)}).finally(e)},[i,e,M,l,t,d,u,z]);return r("div",{ref:j,className:"MmTOI D t _U s l Za f Pk PY Px PK Gg",children:n("div",{className:"KjOWP _Z w f",children:[r("div",{className:"Mbtbi f",children:O&&y&&r(h,{onClick:()=>H(!1)})}),r("div",{className:"ZgpFj f _Z",children:y?r(K,{onShow:()=>{z("MembershipHardGateGOT")},onDismiss:()=>{C("MembershipHardGateGOT","Close"),H(!1)},onAutoCancelled:()=>{C("MembershipHardGateGOT","Close","other"),H(!1)},onSuccessfulLogin:(i,n)=>{z("MembershipHardGateGOT",{userId:n,newMember:i,source:"google"},"SuccessLogin",n),e&&e()},onGeneralSkipDismiss:(e,i)=>{z("MembershipHardGateGOT",{googleOneTapActionType:e,googleOneTapReason:i},"Error")},onNotVisible:e=>{z("MembershipHardGateGOT",{googleOneTapActionType:"not_visible",googleOneTapReason:e},"Error"),H(!1)},onOneTapHidden:()=>{N(!0)}}):r(E,{onShow:()=>{z("MembershipHardGateHybrid")},onContinueWith:()=>{C("MembershipHardGateHybrid","CTA","click","continueWith"),W()},onOpenInApp:e=>{C("MembershipHardGateHybrid","CTA","click","openInTheApp",{downloadId:e})},mcid:65389})})]})})};return[()=>{J.defaultProps={size:"large",fontSize:"large",lightBorder:!1},A=J,q=V,B=Q,$=Y,L=ee,E=ei,F=d(()=>i("1j3bsm")),K=er,e("default",eo)},[e=>(n=e.jsxs,r=e.jsx),e=>(a=e.useCallback,o=e.useState,s=e.useRef,l=e.useEffect,t=e.Suspense,d=e.lazy),e=>c=e.default,e=>(u=e.setRegDialogDismissed,m=e.shouldSuppressRegistrationDialog),e=>g=e.useSessionId,e=>p=e.useRoute,e=>h=e.CloseButton,e=>(f=e.useRouteIds,_=e.useIsDated,b=e.useHardGateContext,v=e.useHardGateImpression,S=e.useHardGateInteraction,T=e.useBounceTracking,G=e.sourceFromLoginProvider),e=>I=e.useOnVisible,e=>M=e.ErrorBoundary,e=>z=e.default,e=>C=e.CdnImage,e=>(w=e.getMarginProps,k=e.margin),e=>(y=e.default,H=e.useLocale,O=e.useLocalize),e=>N=e.default,e=>j=e.default,e=>W=e.default,e=>D=e.uuid,e=>P=e.useGARecorder,e=>x=e.useDomainName,e=>R=e.AutoFocus]]},["121h32","1o4yt4","rdycz1","cyrz7y","1al4vi","fgwvq1","1uzmmz","igyuz7","13btuy","183pm0","1essqv","1s6q22","gw8uw6","17thqz","fkji80","1gjtat","jppfwt","1eww82","32pwc7","qlcuu5","12r4qu"]]);
