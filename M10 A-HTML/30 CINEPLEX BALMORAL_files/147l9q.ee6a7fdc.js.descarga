(this.$WP=this.$WP||[]).push(["147l9q",(e,a)=>{var r,t,i,s,n,l,o,d,u,c,p,m,h,b,y={__key:3853234311414,id:"038126a990f6491afcedad54d3db74d3",loc:{},definitions:[]},f={__key:34590253051575,id:"1f75abbeeeb7fc50046b029243616395",loc:{},definitions:[]},v={buttonWrapper:"tVBNj PE Pc",buttonContent:"AwJym",buttonIcon:"MyzfW H0 PP"},g=()=>{var[,e]=l(f);return s((a,r)=>{e({locationId:a,mediaId:r}).then(e=>{if(e.error){console.error("SetPrimary call failed: ",e.error);return}var a=e.data?.PrimaryMedia_setStaffPrimaryMedia?.[0];a?.status==="ok"?alert("Success! Your new primary photo selection will take effect."):a?.status==="higherPriorityExist"&&a?.message&&alert(`Your curated photo selection has been saved, but it will not be shown. The current primary photo source is ${a?.message}, which is higher priority.`)})},[e])},P=({locationId:e,mediaId:a})=>{var{localize:t}=h(),[s,l]=n(!1),o=g(),d=t.string("set_primary_btn_label"),u=t.string("set_primary_btn_success");return i("div",{className:v.buttonWrapper,children:i(c,{variant:"secondary",size:"small",disabled:s,onClick:()=>{o(e,a),l(!0)},children:r("span",{className:v.buttonContent,children:[i("span",{className:v.buttonIcon,children:i(m,{})}),s?u:d]})})})},w=({mediaId:e})=>{var[a,t]=n(!1),l=s(()=>{navigator.clipboard.writeText(String(e)).then(()=>t(!0))},[e]);return i("div",{className:v.buttonWrapper,children:i(c,{variant:"secondary",size:"small",disabled:a,onClick:l,children:r("span",{className:v.buttonContent,children:[i("span",{className:v.buttonIcon,children:i(p,{})}),a?"Copied":"Copy media ID"]})})})},_=({mediaId:e})=>{var a=d(),[{data:s}]=o({query:y,pause:null===u()});if(!s?.getProfile?.canSetPrimary)return null;var n=0;return("Tourism"===a.page?n=a.params.geoId:"Hotel_Review"===a.page?n=a.params.detailId:("AttractionProductReview"===a.page||"Attraction_Review"===a.page)&&a.params.detailId&&(n=a.params.detailId),0===n||e<1)?null:r(t,{children:[i(P,{locationId:n,mediaId:e}),i(w,{mediaId:e})]})};return[()=>{b=_,e({SetPrimaryAuthorizationQuery:y,default:b,useSetPrimaryCallback:g})},[e=>(r=e.jsxs,t=e.Fragment,i=e.jsx),e=>(s=e.useCallback,n=e.useState),e=>(l=e.useMutation,o=e.useQuery),e=>d=e.useRoute,e=>u=e.useUserId,e=>c=e.default,e=>p=e.default,e=>m=e.default,e=>h=e.useLocalize]]},["121h32","1o4yt4","1mqwhq","fgwvq1","52far5","jppfwt","d5rizv","8slqg9","17thqz"]]);
